{"name": "End-to-End Tests: Search, Add to Cart and Verify Cart Total", "status": "broken", "statusDetails": {"message": "NameError: name 're' is not defined. Did you forget to import 're'", "trace": "page = <Page url='https://cart.ebay.com/'>\n\n    @allure.title(\"End-to-End Tests: Search, Add to Cart and Verify Cart Total\")\n    def test_e2e(page):\n    \n        search_page = page  # save the main tab\n        with allure.step(\"Open the eBay homepage\"):\n            home = HomePage(page)\n            home.open()\n            home.assert_title()\n    \n        with allure.step(\"Looking for items by name under a certain price and limit\"):\n            home.open_advanced_search()\n            adv = AdvancedSearchPage(page)\n            adv.search_items_under_item_price_limit(\"dress\", \"100\", \"60\")\n            page.wait_for_selector(\"#srp-river-results\")\n    \n        with allure.step(\"Add first 3 items from search results to cart with variant selection\"):\n            base = BasePage(search_page)\n    \n            ITEMS_TO_ADD = 3\n            for i in range(ITEMS_TO_ADD):\n                product_page = base.click_product_card(label=\"Buy It Now\")\n                product_page.select_random_variant()\n                product_page.add_to_cart()\n    \n            # screenshot in Allure report after adding each item\n            allure.attach(\n                product_page.page.screenshot(),\n                name=f\"added_item_{i+1}\",\n                attachment_type=allure.attachment_type.PNG\n            )\n    \n            # Close product tab and return to search page\n            product_page.page.close()\n            search_page.bring_to_front()\n    \n        with allure.step(\"Verify cart total does not exceed the limit\"):\n            cart_page = CartPage(page)\n            cart_page.open()\n>           cart_page.assert_total_not_exceeds(110, ITEMS_TO_ADD)\n\nsrc\\tests\\test_e2e_search_add_cart.py:46: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\nsrc\\pages\\cart_page.py:24: in assert_total_not_exceeds\n    total = self.get_total()\n            ^^^^^^^^^^^^^^^^\nsrc\\pages\\cart_page.py:19: in get_total\n    return clean_price(text)\n           ^^^^^^^^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ntext = 'ILS 219.12'\n\n    def clean_price(text: str) -> float:\n>       return float(re.sub(r\"[^0-9.]\", \"\", text))\n                     ^^\nE       NameError: name 're' is not defined. Did you forget to import 're'\n\nsrc\\utils\\price_parser.py:3: NameError"}, "steps": [{"name": "Open the eBay homepage", "status": "passed", "start": 1768116194691, "stop": 1768116196508}, {"name": "Looking for items by name under a certain price and limit", "status": "passed", "start": 1768116196508, "stop": 1768116199618}, {"name": "Add first 3 items from search results to cart with variant selection", "status": "passed", "attachments": [{"name": "added_item_3", "source": "4ce98f43-3d44-40b4-9405-526331be3fea-attachment.png", "type": "image/png"}], "start": 1768116199618, "stop": 1768116220984}, {"name": "Verify cart total does not exceed the limit", "status": "broken", "statusDetails": {"message": "NameError: name 're' is not defined. Did you forget to import 're'\n", "trace": "  File \"C:\\Users\\Victoria\\ebay-e2e-automation\\src\\tests\\test_e2e_search_add_cart.py\", line 46, in test_e2e\n    cart_page.assert_total_not_exceeds(110, ITEMS_TO_ADD)\n  File \"C:\\Users\\Victoria\\ebay-e2e-automation\\src\\pages\\cart_page.py\", line 24, in assert_total_not_exceeds\n    total = self.get_total()\n            ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Victoria\\ebay-e2e-automation\\src\\pages\\cart_page.py\", line 19, in get_total\n    return clean_price(text)\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Victoria\\ebay-e2e-automation\\src\\utils\\price_parser.py\", line 3, in clean_price\n    return float(re.sub(r\"[^0-9.]\", \"\", text))\n                 ^^\n"}, "start": 1768116220984, "stop": 1768116221918}], "start": 1768116194691, "stop": 1768116221918, "uuid": "f6b35d67-8d0d-4b23-aa31-77be4d34b01e", "historyId": "ed3c651e346dd439f3b66dcd56d0718d", "testCaseId": "ed3c651e346dd439f3b66dcd56d0718d", "fullName": "src.tests.test_e2e_search_add_cart#test_e2e", "labels": [{"name": "parentSuite", "value": "src.tests"}, {"name": "suite", "value": "test_e2e_search_add_cart"}, {"name": "host", "value": "VictoriaHome"}, {"name": "thread", "value": "59324-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "src.tests.test_e2e_search_add_cart"}], "titlePath": ["src", "tests", "test_e2e_search_add_cart.py"]}